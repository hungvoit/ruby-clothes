<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head th:replace="fragments/header.html :: extention">Header extention</head>
<body>
    <div class="row m-0">
        <div th:replace="fragments/menu_left.html :: menuAdmin('global')">Menu Admin</div>
        <div class="col-10 p-0">
            <div class="container">
                <div th:if="${message != null}" class="alert alert-warning alert-dismissible fade show text-center" role="alert">
                    <span>[[${message}]]</span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="panel">
                    <div th:replace="fragments/table.html :: tableAction('global')">Table Action</div>
                    <div class="panel-body table-responsive">
                        <table class="table">
                            <thead th:replace="fragments/table.html :: tableHeader(~{ :: .globalFields})">
                                <tr class="globalFields">
                                    <th>Code</th>
                                    <th>Value</th>
                                    <th>Description</th>
                                    <th>Creation Time</th>
                                    <th>Updated Time</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody th:replace="fragments/table.html :: tableBody(tableData=${listGlobal}, sizeCols=6)">Table body</tbody>
                        </table>
                    </div>
                    <div th:replace="fragments/table.html :: tablePaging('global/list', ${listGlobal})">Table paging</div>
                </div>
            </div>
        </div>
        <!--Modal-->
        <div th:fragment="modal-add" id="addModalHolder"></div>
        <div th:fragment="modal-edit" id="editModalHolder"></div>
        <div th:fragment="modal-del" id="delModalHolder"></div>
    </div>
</body>
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/popper.min.js}"></script>
<script th:inline="javascript">
    function openAddModal(){
        $.ajax({
            type:'GET',
            url: "/modal-add",
            data:{ tabName: 'global'},
            success: function(data){
                $("#addModalHolder").html(data);
                $('#addModal_global').modal({
                    backdrop: 'static'
                });
            }
        });
    }

    function openEditModal(id){
        $.ajax({
            type:'GET',
            url: "/modal-edit/" + id,
            data:{ tabName: 'global'},
            success: function(data){
                $("#editModalHolder").html(data);
                $('#editModal_global').modal({
                    backdrop: 'static'
                });
            }
        });
    }

    function openDeleteModal(id){
        $.ajax({
            type:'GET',
            url: "/modal-del/" + id,
            data:{ tabName: 'global'},
            success: function(data){
                $("#delModalHolder").html(data);
                $('#delModal_global').modal({
                    backdrop: 'static'
                });

            }
        });
    }
</script>
</html>