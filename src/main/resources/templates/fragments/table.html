<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Frame Table</title>
</head>
<body>
    <div class="col-10 p-0">
        <div class="container">
            <div class="panel">
                <div class="panel-heading" th:fragment="tableAction(item)" >
                    <div class="row">
                        <div class="col col-sm-3 col-xs-12">
                            <h4 class="title" th:text="#{label.data(${item})}"></h4>
                        </div>
                        <div class="col-sm-9 col-xs-12 text-right">
                            <div class="btn_group">
                                <input type="text" class="form-control" th:placeholder="#{label.search}" >
                                <button class="btn btn-pink"><i class="ion-ios-refresh"></i></button>
                                <button class="btn btn-pink" th:onclick="'javascript:openAddModal();'"><i class="ion-android-add-circle"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-body table-responsive">
                    <table class="table">
                        <thead th:fragment="tableHeader(theadFields)">
                            <tr th:replace="${theadFields}"></tr>
                        </thead>
                        <tbody th:fragment="tableBody(tableData, sizeCols, tab)">
                            <tr th:unless="${#lists.isEmpty(tableData)}" th:each="row: ${tableData}">
                                <td th:text="${row.code}">0</td>
                                <td class="line-one" th:text="${row.value}">Value</td>
                                <td th:text="${row.description}">Description</td>
                                <td th:text="${#dates.format(row.createDate, 'dd/MM/yyyy HH:mm:ss')}">Creation Time</td>
                                <td th:text="${#dates.format(row.updateDate, 'dd/MM/yyyy HH:mm:ss')}">Updated Time</td>
                                <td class="d-flex" style="column-gap: 5px">
                                    <a class="btn btn-pink action" th:onclick="'javascript:openEditModal(\''+ __${row.code}__ + '\');'"><i class="fas fa-pencil"></i></a>
                                    <a class="btn btn-pink action" th:onclick="'javascript:openDeleteModal(\''+ __${row.code}__ + '\');'"><i class="fas fa-trash-can"></i></a>
                                </td>
                            </tr>
                            <tr th:if="${#lists.isEmpty(tableData)}">
                                <td th:colspan="${sizeCols}" class="text-center">[[#{msg.not.matching}]]</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="panel-footer" th:fragment="tablePaging(itemName, tableData)" th:unless="${#lists.isEmpty(tableData)}">
                    <div class="row">
                        <div class="col-5">[[#{label.totalItem}]] [[${totalItems}]] : [[#{label.page}]] [[${currentPage}]] [[#{label.of}]] [[${totalPages}]]</div>
                        <div class="col-7">
                            <ul class="pagination justify-content-end">
                                <li>
                                    <a class="prev" th:if="${currentPage > 1}" th:href="@{'/' + ${itemName} + '/page/1'}"><i class="fas fa-angles-left"></i></a>
                                    <a class="prev" th:classappend="${currentPage == 1} ? 'disabled' : ''" th:unless="${currentPage > 1}"><i class="fas fa-angles-left"></i></a>
                                </li>
                                <li>
                                    <a th:if="${currentPage > 1}" th:href="@{'/' + ${itemName} + '/page/' + ${currentPage - 1}}"><i class="fas fa-angle-left"></i></a>
                                    <a th:class="${currentPage == 1} ? 'disabled' : ''" th:unless="${currentPage > 1}"><i class="fas fa-angle-left"></i></a>
                                </li>
                                <th:block th:if="${totalPages <= 7}">
                                    <li class="d-flex">
                                        <span th:each="i: ${#numbers.sequence(1, totalPages)}">
                                            <a th:if="${currentPage != i}" th:href="@{'/' + ${itemName} + '/page/' + ${i}}">[[${i}]]</a>
                                            <a th:class="${i == currentPage ? 'active' : ''}" th:unless="${currentPage != i}">[[${i}]]</a>
                                        </span>
                                    </li>
                                </th:block>
                                <th:block th:if="${totalPages > 7}">
                                    <th:block th:if="${currentPage <= 3 || currentPage > totalPages - 2}">
                                        <li class="d-flex">
                                            <span th:each="i: ${#numbers.sequence(1, 3)}">
                                                <a th:if="${currentPage != i}" th:href="@{'/' + ${itemName} + '/page/' + ${i}}">[[${i}]]</a>
                                                <a th:class="${i == currentPage ? 'active' : ''}" th:unless="${currentPage != i}">[[${i}]]</a>
                                            </span>
                                        </li>
                                        <a th:href="@{'/' + ${itemName} + '/page/4'}"><i class="fas fa-ellipsis"></i></a>
                                        <li class="d-flex">
                                            <span th:each="i: ${#numbers.sequence(totalPages - 2, totalPages)}">
                                                <a th:if="${currentPage != i}" th:href="@{'/' + ${itemName} + '/page/' + ${i}}">[[${i}]]</a>
                                                <a th:class="${i == currentPage ? 'active' : ''}" th:unless="${currentPage != i}">[[${i}]]</a>
                                            </span>
                                        </li>
                                    </th:block>
                                    <th:block th:if="${currentPage > 3 && currentPage <= totalPages - 2}">
                                        <a th:href="@{'/' + ${itemName} + '/page/' + ${currentPage - 3}}"><i class="fas fa-ellipsis"></i></a>
                                        <li class="d-flex">
                                            <span th:each="i: ${#numbers.sequence(currentPage - 2, currentPage + 2)}">
                                                <a th:if="${currentPage != i}" th:href="@{'/' + ${itemName} + '/page/' + ${i}}">[[${i}]]</a>
                                                <a th:class="${i == currentPage ? 'active' : ''}" th:unless="${currentPage != i}">[[${i}]]</a>
                                            </span>
                                        </li>
                                        <a th:href="@{'/' + ${itemName} + '/page/' + ${currentPage + 3}}"><i class="fas fa-ellipsis"></i></a>
                                    </th:block>
                                </th:block>

                                <li>
                                    <a th:if="${currentPage < totalPages}" th:href="@{'/' + ${itemName} + '/page/' + ${currentPage + 1}}"><i class="fas fa-angle-right"></i></a>
                                    <a th:class="${currentPage == totalPages} ? 'disabled' : ''" th:unless="${currentPage < totalPages}"><i class="fas fa-angle-right"></i></a>
                                </li>
                                <li>
                                    <a class="next" th:if="${currentPage < totalPages}" th:href="@{'/' + ${itemName} + '/page/' + ${totalPages}}"><i class="fas fa-angles-right"></i></a>
                                    <a class="next" th:classappend="${currentPage == totalPages} ? 'disabled' : ''" th:unless="${currentPage < totalPages}"><i class="fas fa-angles-right"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>